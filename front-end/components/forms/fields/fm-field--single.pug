extends _abstract

block model
    -
        form_field
            .instance({
                class: "fm-field--radio",

                label: {
                    "o-base": "mod--balance"
                },
                
                control: {
                    class: "rxn--shade20 fx--shift",
                    "o-base": "row--pStart--sStart mod--balance pad--y25 rhy--xStart25",
                }
            })


block hdr
    p&attributes(form_field.label)
        = form_field.data.label


block bd
    if choices[form_field.data.name]
        div&attributes(form_field.group)
            
            +for(`choice_value, choice_label in form.${form_field.data.name}.field.choices`)
                -
                    input_attrs = {
                        type: "radio",
                        id: `id_${ form_field.data.name }_${_index}`,
                        "o-base": "mod--static",
                        name: form_field.data.name,
                        value: v('choice_value'),
                    }

                label&attributes(form_field.control)
                    +ifequal(`form.${form_field.data.name}.value`, 'choice_value')
                        input(checked=true)&attributes(input_attrs)
                        
                        +else()
                            input&attributes(input_attrs)

                    span&attributes(form_field.label)  
                        = v('choice_label')
